# 华安医疗门诊预约系统 - 开发进度跟踪

> 最后更新时间：2025-12-18（进度按仓库代码现状同步）
>
> 状态说明：⬜ 未开始 | 🔄 进行中 | ✅ 已完成 | ⏸️ 暂停 | ❌ 已废弃

---

## 一、项目概览

| 项目 | 技术栈 | 状态 | 进度 |
|-----|-------|------|------|
| 后端 API | Go + Gin + GORM + MySQL | ✅ 已完成 | 100% |
| 小程序前端 | uni-app (Vue3) | 🔄 进行中 | 97% |
| 后台管理 | React + Ant Design + TypeScript | 🔄 进行中 | 74% |
| 数据库 | MySQL 8.0 | ✅ 已完成 | 100% |

---

## 二、后端开发进度

### 2.1 项目基础搭建

| 模块 | 描述 | 状态 | 负责人 | 开始时间 | 完成时间 | 备注 |
|-----|------|------|-------|---------|---------|------|
| 项目初始化 | go mod init、目录结构 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 已完成 |
| 配置管理 | config.yaml 读取 | ✅ | Claude | 2025-12-17 | 2025-12-17 | Viper实现 |
| 数据库连接 | GORM + MySQL 连接池 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 已完成 |
| Redis 连接 | Redis 客户端配置 | ✅ | Claude | 2025-12-17 | 2025-12-17 | go-redis实现 |
| 路由配置 | Gin 路由分组 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 已完成 |
| 中间件 | JWT、日志、跨域、限流 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 5个中间件 |
| 统一响应 | Response 封装 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 已完成 |
| 错误码定义 | errorcode 常量 | ✅ | Claude | 2025-12-17 | 2025-12-17 | 完整错误码体系 |
| Swagger 文档 | API 文档生成 | ✅ | Claude | 2025-12-17 | 2025-12-18 | 已运行 swag 生成 docs（swagger.json/yaml） |

### 2.2 数据模型 (Model)

| 模块 | 表名 | 状态 | 负责人 | 开始时间 | 完成时间 | 备注 |
|-----|------|------|-------|---------|---------|------|
| 用户模型 | users | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 就诊人模型 | patients | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 科室模型 | departments | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 医生模型 | doctors | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 排班模型 | schedules | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 预约模型 | appointments | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 就诊记录模型 | medical_records | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 管理员模型 | admins | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |
| 角色权限模型 | roles, permissions | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含关联表 |
| 日志模型 | operation_logs, login_logs | ✅ | Claude | 2025-12-17 | 2025-12-17 | 含VO对象 |

### 2.3 用户模块 API

| 接口 | 路径 | 方法 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|------|-------|---------|------|
| 微信登录 | /api/user/login | POST | ✅ | Claude | 2025-12-17 | 需配置AppID/AppSecret |
| 刷新Token | /api/auth/refresh | POST | ✅ | Claude | 2025-12-17 | 使用refresh_token刷新 |
| 获取用户信息 | /api/user/info | GET | ✅ | Claude | 2025-12-17 | JWT认证 |
| 更新用户信息 | /api/user/info | PUT | ✅ | Claude | 2025-12-17 | 手机号绑定校验 |
| 获取就诊人列表 | /api/user/patients | GET | ✅ | Claude | 2025-12-17 | 按用户过滤 |
| 获取就诊人详情 | /api/user/patients/:id | GET | ✅ | Claude | 2025-12-17 | 权限校验 |
| 添加就诊人 | /api/user/patients | POST | ✅ | Claude | 2025-12-17 | 限10个、身份证校验 |
| 编辑就诊人 | /api/user/patients/:id | PUT | ✅ | Claude | 2025-12-17 | 自动提取性别生日 |
| 删除就诊人 | /api/user/patients/:id | DELETE | ✅ | Claude | 2025-12-17 | 自动迁移默认 |

### 2.4 预约模块 API

| 接口 | 路径 | 方法 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|------|-------|---------|------|
| 获取科室列表 | /api/departments | GET | ✅ | Claude | 2025-12-17 | 公开接口 |
| 获取医生列表 | /api/doctors | GET | ✅ | Claude | 2025-12-17 | 公开接口 |
| 获取医生详情 | /api/doctors/:id | GET | ✅ | Claude | 2025-12-17 | 公开接口 |
| 查询医生排班 | /api/schedule | GET | ✅ | Claude | 2025-12-17 | 按医生+日期范围 |
| 获取可预约时段 | /api/schedule/available | GET | ✅ | Claude | 2025-12-17 | 剩余号源>0 |
| 获取幂等Token | /api/token/idempotent | GET | ✅ | Claude | 2025-12-17 | Redis 5分钟有效期 |
| 创建预约 | /api/appointments | POST | ✅ | Claude | 2025-12-17 | 事务+并发控制 |
| 获取预约列表 | /api/appointments | GET | ✅ | Claude | 2025-12-17 | 按状态筛选 |
| 获取预约详情 | /api/appointments/:id | GET | ✅ | Claude | 2025-12-17 | 权限校验 |
| 取消预约 | /api/appointments/:id/cancel | PUT | ✅ | Claude | 2025-12-17 | 当天不可取消 |
| 预约签到 | /api/appointments/:id/checkin | POST | ✅ | Claude | 2025-12-17 | 时间窗口校验 |

### 2.5 就诊记录 API

| 接口 | 路径 | 方法 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|------|-------|---------|------|
| 获取就诊记录列表 | /api/records | GET | ✅ | Claude | 2025-12-17 | 按用户查询 |
| 获取就诊记录详情 | /api/records/:id | GET | ✅ | Claude | 2025-12-17 | 权限校验 |

### 2.6 后台管理 API

| 接口 | 路径 | 方法 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|------|-------|---------|------|
| 管理员登录 | /api/admin/login | POST | ✅ | Claude | 2025-12-17 | 含Token生成 |
| 获取管理员信息 | /api/admin/info | GET | ✅ | Claude | 2025-12-17 | JWT认证 |
| 修改密码 | /api/admin/password | PUT | ✅ | Claude | 2025-12-17 | 旧密码验证 |
| 预约列表 | /api/admin/appointments | GET | ✅ | Claude | 2025-12-17 | 分页+多条件筛选 |
| 更新预约状态 | /api/admin/appointments/:id | PUT | ✅ | Claude | 2025-12-17 | 状态流转控制 |
| 导出预约数据 | /api/admin/appointments/export | GET | ✅ | Claude | 2025-12-17 | CSV格式 |
| 患者列表 | /api/admin/patients | GET | ✅ | Claude | 2025-12-17 | 分页+搜索 |
| 患者详情 | /api/admin/patients/:id | GET | ✅ | Claude | 2025-12-17 | - |
| 科室列表 | /api/admin/departments | GET | ✅ | Claude | 2025-12-17 | 分页查询 |
| 获取科室详情 | /api/admin/departments/:id | GET | ✅ | Claude | 2025-12-17 | - |
| 添加科室 | /api/admin/departments | POST | ✅ | Claude | 2025-12-17 | 名称唯一校验 |
| 编辑科室 | /api/admin/departments/:id | PUT | ✅ | Claude | 2025-12-17 | 名称唯一校验 |
| 删除科室 | /api/admin/departments/:id | DELETE | ✅ | Claude | 2025-12-17 | 关联医生检查 |
| 医生列表 | /api/admin/doctors | GET | ✅ | Claude | 2025-12-17 | 分页+筛选 |
| 获取医生详情 | /api/admin/doctors/:id | GET | ✅ | Claude | 2025-12-17 | - |
| 添加医生 | /api/admin/doctors | POST | ✅ | Claude | 2025-12-17 | 名称唯一校验 |
| 编辑医生 | /api/admin/doctors/:id | PUT | ✅ | Claude | 2025-12-17 | 业务规则校验 |
| 删除医生 | /api/admin/doctors/:id | DELETE | ✅ | Claude | 2025-12-17 | 关联检查 |
| 上传头像 | /api/admin/upload/avatar | POST | ✅ | Claude | 2025-12-17 | 文件类型+大小限制 |
| 上传图片 | /api/admin/upload/image | POST | ✅ | Claude | 2025-12-17 | 通用图片上传 |
| 排班列表 | /api/admin/schedules | GET | ✅ | Claude | 2025-12-17 | 分页+多条件筛选 |
| 获取排班详情 | /api/admin/schedules/:id | GET | ✅ | Claude | 2025-12-17 | - |
| 创建排班 | /api/admin/schedules | POST | ✅ | Claude | 2025-12-17 | 唯一性校验 |
| 批量创建排班 | /api/admin/schedules/batch | POST | ✅ | Claude | 2025-12-17 | 按日期+星期批量 |
| 编辑排班 | /api/admin/schedules/:id | PUT | ✅ | Claude | 2025-12-17 | 号源数校验 |
| 删除排班 | /api/admin/schedules/:id | DELETE | ✅ | Claude | 2025-12-17 | 预约记录检查 |
| 数据统计 | /api/admin/statistics | GET | ✅ | Claude | 2025-12-17 | 支持日期筛选 |
| 仪表盘数据 | /api/admin/dashboard | GET | ✅ | Claude | 2025-12-17 | 完整统计数据 |

### 2.7 定时任务

| 任务 | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 爽约自动处理 | 每天22:00处理未就诊预约 | ✅ | Claude | 2025-12-17 | 使用cron实现 |
| 就诊提醒推送 | 每天20:00推送次日就诊提醒 | ✅ | Claude | 2025-12-18 | 后端逻辑已实现；需配置订阅模板+小程序端授权/订阅 |
| 过期Token清理 | 定期清理Redis黑名单 | ✅ | Claude | 2025-12-18 | 已实现 Scan + TTL=-1 清理策略 |

---

## 三、小程序前端开发进度

### 3.1 项目基础搭建

| 模块 | 描述 | 状态 | 负责人 | 开始时间 | 完成时间 | 备注 |
|-----|------|------|-------|---------|---------|------|
| 项目初始化 | uni-app + Vue3 项目创建 | ✅ | - | - | - | 现有工程可直接用 HBuilderX 导入运行 |
| 目录结构 | pages/components/api/utils/store | ✅ | - | - | - | 已引入 Pinia store（store/user.js） |
| 全局样式 | variables.scss、公共样式 | ✅ | - | - | - | `uni.scss` 已配置 |
| 请求封装 | axios/uni.request 封装 | ✅ | - | - | - | `utils/request.js` |
| Token管理 | 存储、刷新、拦截器 | ✅ | - | - | - | `utils/auth.js` + refresh 逻辑 |
| 状态管理 | Pinia/Vuex 配置 | ✅ | - | - | - | Pinia 已接入（main.js + App.vue bootstrap） |
| 路由配置 | pages.json 配置 | ✅ | - | - | - | 主要页面已录入 |
| TabBar配置 | 底部导航栏 | ✅ | - | - | - | 首页/预约/我的 |

### 3.2 公共组件

| 组件 | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| NavBar | 自定义导航栏 | ✅ | - | - | - |
| Loading | 加载中组件 | ✅ | - | - | - |
| Empty | 空状态组件 | ✅ | - | - | - |
| Card | 卡片组件 | ✅ | - | - | - |
| Tag | 状态标签组件 | ✅ | - | - | - |
| Modal | 弹窗组件 | ✅ | - | - | - |
| Form | 表单组件封装 | ✅ | - | - | - |

### 3.3 页面开发

#### 首页模块

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 首页 | /pages/index/index | ✅ | - | - | 页面已实现，待联调与细节完善 |

#### 预约模块

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 科室列表 | /pages/appointment/department | ✅ | - | - | 页面已实现，待联调 |
| 医生列表 | /pages/appointment/doctor-list | ✅ | - | - | 页面已实现，待联调 |
| 医生详情 | /pages/appointment/doctor-detail | ✅ | - | - | 页面已实现，待联调 |
| 排班选择 | /pages/appointment/schedule | ✅ | - | - | 页面已实现，待联调 |
| 预约确认 | /pages/appointment/confirm | ✅ | - | - | 页面已实现，待联调 |
| 预约成功 | /pages/appointment/success | ✅ | - | - | 页面已实现，待联调 |

#### 我的预约模块

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 预约列表 | /pages/appointment/list | ✅ | - | - | 页面已实现，待联调与状态筛选细节 |
| 预约详情 | /pages/appointment/detail | ✅ | - | - | 页面已实现，待联调 |
| 取消预约 | /pages/appointment/cancel | ⬜ | - | - | 暂无单独页面（可考虑在详情页弹窗实现） |

#### 就诊记录模块

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 记录列表 | /pages/record/list | ✅ | - | - | 页面已实现，待联调 |
| 记录详情 | /pages/record/detail | ✅ | - | - | 页面已实现，待联调 |

#### 用户模块

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 个人中心 | /pages/user/index | ✅ | - | - | 页面已实现，待联调 |
| 个人信息 | /pages/user/profile | ✅ | - | - | 页面已实现，待联调 |
| 就诊人管理 | /pages/user/patient-list | ✅ | - | - | 页面已实现，待联调 |
| 添加/编辑就诊人 | /pages/user/patient-edit | ✅ | - | - | 页面已实现，待联调 |
| 登录页 | /pages/login/index | ✅ | - | - | 页面已实现，待微信登录/短信登录策略确认 |
| 信息完善 | /pages/login/complete | ✅ | - | - | 已实现 complete.vue（首次登录完善资料） |

---

## 四、后台管理前端开发进度

### 4.1 项目基础搭建

| 模块 | 描述 | 状态 | 负责人 | 开始时间 | 完成时间 | 备注 |
|-----|------|------|-------|---------|---------|------|
| 项目初始化 | Vite + React + TypeScript | ✅ | - | - | - | - |
| 目录结构 | pages/components/services/hooks | ✅ | - | - | - | pages/layouts/router/utils 已建立 |
| Ant Design 配置 | 主题定制、ConfigProvider | ✅ | - | - | - | 已使用 antd 组件体系 |
| 请求封装 | axios 封装、拦截器 | ✅ | - | - | - | `src/utils/http.ts` |
| 状态管理 | Zustand/Redux 配置 | ⬜ | - | - | - | 当前以 localStorage + 页面状态为主 |
| 路由配置 | React Router v6 | ✅ | - | - | - | `src/router/index.tsx` |
| 权限控制 | 路由守卫、按钮权限 | 🔄 | - | - | - | 已增加 RequireAuth 路由守卫；细粒度权限待补齐 |
| 布局组件 | Header/Sidebar/Content | ✅ | - | - | - | `src/layouts/MainLayout.tsx` |

### 4.2 公共组件/Hooks

| 组件/Hook | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| PageContainer | 页面容器 | ⬜ | - | - | - |
| SearchForm | 搜索表单 | ⬜ | - | - | - |
| ProTable | 增强表格 | ⬜ | - | - | - |
| usePagination | 分页Hook | ⬜ | - | - | - |
| useRequest | 请求Hook | ⬜ | - | - | - |
| AuthButton | 权限按钮 | ⬜ | - | - | - |

### 4.3 页面开发

#### 登录/布局

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 登录页 | /login | ✅ | - | - | 已实现（支持登录后回跳） |
| 主布局 | /layout | ✅ | - | - | MainLayout 已完成（实际挂载在 /） |
| 404页面 | /404 | ✅ | - | - | 已实现 NotFound 页面（路由兜底） |

#### 仪表盘

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 仪表盘 | /dashboard | ✅ | - | - | 已实现统计卡片，图表可后续补充 |

#### 预约管理

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 预约列表 | /appointment/list | ✅ | - | - | 已实现列表+状态筛选+导出 |
| 预约详情 | /appointment/detail/:id | ✅ | - | - | 已在列表页以抽屉形式实现 |

#### 患者管理

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 患者列表 | /patient/list | ✅ | - | - | 已实现列表+弹窗预览（详情接口待接入） |
| 患者详情 | /patient/detail/:id | ⬜ | - | - | - |

#### 科室管理

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 科室列表 | /department/list | ✅ | - | - | 已实现列表+增删改（弹窗） |
| 添加/编辑科室 | /department/edit | ✅ | - | - | 已在列表页以弹窗形式实现 |

#### 医生管理

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 医生列表 | /doctor/list | ✅ | - | - | 已实现列表+增删改（弹窗） |
| 添加医生 | /doctor/add | ✅ | - | - | 已在列表页以弹窗形式实现 |
| 编辑医生 | /doctor/edit/:id | ✅ | - | - | 已在列表页以弹窗形式实现 |

#### 排班管理

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 排班列表 | /schedule/list | ✅ | - | - | 已实现列表+筛选 |
| 创建排班 | /schedule/add | ✅ | - | - | 已在列表页以弹窗形式实现 |
| 批量排班 | /schedule/batch | ✅ | - | - | 已在列表页以弹窗形式实现 |

#### 数据统计

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 统计报表 | /statistics | ✅ | - | - | 已实现日期筛选+统计表格/分布卡片 |

#### 系统设置

| 页面 | 路径 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 管理员管理 | /system/admin | ✅ | - | - | 已实现列表/新建/编辑/启用禁用/重置密码 |
| 角色管理 | /system/role | ✅ | - | - | 已实现列表/新建/编辑/启用禁用 |
| 系统日志 | /logs | ✅ | - | - | 已实现操作日志/登录日志列表与筛选 |

---

## 五、数据库开发进度

| 任务 | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 数据库创建 | CREATE DATABASE | ✅ | - | - | scripts/init_db.sql 已提供 |
| users 表 | 用户表 | ✅ | - | - | GORM AutoMigrate 创建 |
| patients 表 | 就诊人表 | ✅ | - | - | GORM AutoMigrate 创建 |
| departments 表 | 科室表 | ✅ | - | - | GORM AutoMigrate 创建 |
| doctors 表 | 医生表 | ✅ | - | - | GORM AutoMigrate 创建 |
| schedules 表 | 排班表 | ✅ | - | - | GORM AutoMigrate 创建 |
| appointments 表 | 预约表 | ✅ | - | - | GORM AutoMigrate 创建 |
| medical_records 表 | 就诊记录表 | ✅ | - | - | GORM AutoMigrate 创建 |
| admins 表 | 管理员表 | ✅ | - | - | GORM AutoMigrate 创建 |
| roles 表 | 角色表 | ✅ | - | - | GORM AutoMigrate 创建 |
| permissions 表 | 权限表 | ✅ | - | - | GORM AutoMigrate 创建 |
| role_permissions 表 | 角色权限关联表 | ✅ | - | - | GORM AutoMigrate 创建 |
| admin_roles 表 | 管理员角色关联表 | ✅ | - | - | GORM AutoMigrate 创建 |
| operation_logs 表 | 操作日志表 | ✅ | - | - | GORM AutoMigrate 创建 |
| login_logs 表 | 登录日志表 | ✅ | - | - | GORM AutoMigrate 创建 |
| 初始化数据 | 科室、管理员、权限等 | ✅ | - | - | scripts/seed_data.go 已提供 |

---

## 六、测试与部署

### 6.1 测试

| 任务 | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 后端单元测试 | Service 层测试 | ⬜ | - | - | - |
| 后端接口测试 | API 接口测试 | ⬜ | - | - | - |
| 小程序功能测试 | 主流程测试 | ⬜ | - | - | - |
| 后台功能测试 | 主流程测试 | ⬜ | - | - | - |
| 联调测试 | 前后端联调 | ⬜ | - | - | - |

### 6.2 部署

| 任务 | 描述 | 状态 | 负责人 | 完成时间 | 备注 |
|-----|------|------|-------|---------|------|
| 服务器环境 | Go + MySQL + Redis + Nginx | ⬜ | - | - | - |
| 后端部署 | 编译、配置、启动 | ⬜ | - | - | - |
| 后台管理部署 | 打包、Nginx配置 | ⬜ | - | - | - |
| 小程序发布 | 提交审核、发布 | ⬜ | - | - | - |
| HTTPS配置 | SSL证书配置 | ⬜ | - | - | - |
| 域名备案 | 服务器域名备案 | ⬜ | - | - | - |

---

## 七、开发日志

> 按时间倒序记录开发过程中的重要事项

### 2025-12-18

- [x] 生成 Swagger 文档（docs/swagger.json、docs/swagger.yaml）
- [x] 管理后台预约详情接口与列表抽屉详情（含导出文件名兼容）
- [x] 新增系统日志：操作日志中间件写库、登录日志写库、日志查询 API
- [x] 新增后台系统日志页面（操作日志/登录日志）
- [x] 新增管理员管理/角色管理 API 与后台页面
- [x] 小程序引入 Pinia（store/user）并补齐公共组件（NavBar/Loading/Empty/Card/Tag/Modal/FormItem）
- [x] 修复后台导出接口 blob 响应被统一拦截器误判问题
- [x] 增加后台路由守卫（RequireAuth）与 404 兜底页面
- [x] 同步更新开发进度文档状态

### 2025-12-17

- [x] 完成需求文档编写
- [x] 创建开发进度跟踪文档
- [x] 完成管理员模块 API（登录、获取信息、修改密码）
- [x] 完成科室管理模块 API（增删改查、列表查询）
- [x] 完成医生管理模块 API（增删改查、分页查询、公开接口）
- [x] 完成排班管理模块 API（增删改查、批量创建、分页查询、公开接口）
- [x] 完成用户模块 API（微信登录、用户信息管理）
- [x] 完成就诊人管理模块 API（增删改查、默认就诊人管理、身份证校验）
- [x] 完成预约模块 API（创建预约、预约列表、详情、取消、签到）
- [x] 实现幂等Token机制（防重复提交、5分钟有效期）
- [x] 实现预约并发控制（事务+原子操作、号源扣减）
- [x] 实现文件上传功能（头像上传、图片上传、文件类型校验）
- [x] 实现三层架构（Handler-Service-Repository）
- [x] 创建密码哈希生成工具（genhash.go）
- [x] 添加静态文件服务（支持访问上传文件）
- [x] 实现批量排班核心功能（按日期范围+星期几+时段批量生成）

---

## 八、问题记录

> 记录开发过程中遇到的问题及解决方案

| 日期 | 问题描述 | 解决方案 | 状态 |
|-----|---------|---------|------|
| - | - | - | - |

---

## 九、版本记录

| 版本 | 发布日期 | 更新内容 | 备注 |
|-----|---------|---------|------|
| v0.0.1 | - | 项目初始化 | 开发中 |

---

## 附录：进度统计

### 后端进度

```
项目基础: 9/9   (100%) ✅
数据模型: 10/10 (100%) ✅
用户模块: 8/8   (100%) ✅
预约模块: 11/11 (100%) ✅
就诊记录: 2/2   (100%) ✅
后台管理: 33/33 (100%) ✅
定时任务: 3/3   (100%) ✅
-------------------------
总计: 76/76 (100%) ✅
```

### 小程序进度

```
项目基础: 8/8  (100%) ✅
公共组件: 7/7  (100%) ✅
首页模块: 1/1  (100%) ✅
预约模块: 6/6  (100%) ✅
我的预约: 2/3  (67%)  🔄
就诊记录: 2/2  (100%) ✅
用户模块: 6/6  (100%) ✅
-------------------------
总计: 32/33 (97%) 🔄
```

### 后台管理进度

```
项目基础: 6/8  (75%) 🔄
公共组件: 0/6  (0%)
登录布局: 3/3  (100%) ✅
仪表盘:   1/1  (100%) ✅
预约管理: 2/2  (100%) ✅
患者管理: 1/2  (50%)  🔄
科室管理: 2/2  (100%) ✅
医生管理: 3/3  (100%) ✅
排班管理: 3/3  (100%) ✅
数据统计: 1/1  (100%) ✅
系统设置: 3/3  (100%) ✅
-------------------------
总计: 25/34 (74%) 🔄
```

### 数据库进度

```
数据表: 15/15 (100%) ✅
初始化: 1/1  (100%) ✅
-------------------------
总计: 16/16 (100%) ✅
```

### 总体进度

```
后端:     100% ✅
小程序:   97% 🔄
后台管理: 74% 🔄
数据库:   100% ✅
-------------------------
总体: 93%
```
